# Как запустить тест MCP подключения

## Способ 1: Через IntelliJ IDEA (рекомендуется)

1. Откройте файл `composeApp/src/jvmMain/kotlin/org/example/demo/McpTest.kt`
2. Найдите функцию `testMcp()`
3. Правой кнопкой мыши на функции → **Run 'testMcp()'**
4. **ВАЖНО**: Перед запуском укажите реальный URL вашего MCP сервера в строке:
   ```kotlin
   val serverUrl = "https://your-mcp-server.com/mcp"
   ```
   Замените на реальный URL, например: `"https://example.com/mcp"`

## Способ 2: Через терминал с аргументом

```bash
./gradlew :composeApp:run --args="mcp-test"
```

**ВАЖНО**: Перед запуском укажите реальный URL в `McpTest.kt`

## Способ 3: Создать Run Configuration в IDE

1. В IntelliJ IDEA: **Run** → **Edit Configurations...**
2. Нажмите **+** → **Kotlin**
3. Укажите:
   - **Name**: `MCP Test`
   - **Main class**: `org.example.demo.McpTestKt`
   - **Use classpath of module**: `composeApp.jvmMain`
4. Нажмите **OK** и запустите

## Что делает тест?

1. Создает HTTP клиент
2. Подключается к MCP серверу по указанному URL
3. Получает список доступных инструментов (tools)
4. Выводит результат в консоль
5. Отключается от сервера

## Пример вывода

```
=== Тест подключения к MCP серверу ===

1. Создание MCP клиента...
2. Подключение к серверу: https://example.com/mcp
✓ Успешно подключен к MCP серверу

3. Получение списка доступных инструментов...

=== Результат ===
Найдено инструментов: 3

1. tool1
   Описание: Описание первого инструмента

2. tool2
   Описание: Описание второго инструмента

4. Отключение от сервера...
✓ Отключен от MCP сервера

=== Тест завершен ===
```

## Устранение проблем

Если ничего не происходит:
- Убедитесь, что указан **реальный URL** MCP сервера (не `your-mcp-server.com`)
- Проверьте, что сервер доступен и отвечает
- Проверьте логи в консоли для деталей ошибки
- Убедитесь, что запускаете правильную функцию (`testMcp()`, а не `main()`)

Если получаете ошибку подключения:
- Проверьте правильность URL
- Убедитесь, что сервер поддерживает MCP протокол
- Проверьте, что сервер доступен из вашей сети
- Посмотрите логи в консоли для деталей

